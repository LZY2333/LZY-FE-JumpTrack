# Windows ç¯å¢ƒåˆå§‹åŒ–ï¼ˆéœ€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œæˆ–å¼€å¯å¼€å‘è€…æ¨¡å¼ï¼‰
# ç”¨æ³•: PowerShell -ExecutionPolicy Bypass -File scripts\setup.ps1

$RepoDir = (Resolve-Path "$PSScriptRoot\..").Path
Write-Host "ğŸ“ ä»“åº“è·¯å¾„: $RepoDir"

function New-Link {
    param($Path, $Target)
    if (Test-Path $Path) { Remove-Item $Path -Force -Recurse }
    New-Item -ItemType SymbolicLink -Path $Path -Target $Target | Out-Null
}

# Claude
$ClaudeDir = "$env:USERPROFILE\.claude"
New-Item -ItemType Directory -Force -Path $ClaudeDir | Out-Null
New-Link "$ClaudeDir\CLAUDE.md" "$RepoDir\.claude\CLAUDE.md"
New-Link "$ClaudeDir\skills"    "$RepoDir\skills"
Write-Host "âœ… Claude è½¯é“¾å®Œæˆ"

# Codex
$CodexDir = "$env:USERPROFILE\.codex"
New-Item -ItemType Directory -Force -Path $CodexDir | Out-Null
New-Link "$CodexDir\skills" "$RepoDir\skills"
Write-Host "âœ… Codex è½¯é“¾å®Œæˆ"

Write-Host "ğŸ‰ setup å®Œæˆ"
