# 前端入职及配置流程
入职 了解公司背景 员工守则
账号 权限申请
本地环境配置
本地运行
熟悉项目 技术栈

## 账号开通

### 收藏进chrome收藏夹

[入职指引](https://bcn0tgplxp2e.feishu.cn/wiki/TewNwWBp1iwGdpk33DxczQRYnKb)

[加班补贴登记](https://bcn0tgplxp2e.feishu.cn/wiki/IjkvwH91VivmCIk5iFHchMFSn4b?fromScene=spaceOverview&sheet=zEMRTr)

[cnb仓库地址](https://cnb.cool/awesomeaicode)

[监控看板](https://pollodev.com/)

[本地运行地址](http://dev.pollo.ai.localhost:3000/)

[测试环境地址](test123.pollo.ai)

### 看板账号开通

1. 找【Shane】大佬 帮忙添加邮箱白名单以接收验证码: 大佬，能帮我加一下邮箱白名单，接受验证码吗

2. 【看板】需要 输入公司邮箱登录, 飞书邮件内接收验证码

看板用于运维

### cnb账号开通

0.【修改微信名为自己英文名】（暂时）流程结束可以改回来

1.【代码仓库链接邀请】找【Peter】大佬 要公司代码仓库的邀请链接，微信扫码登录

注意: 昵称 与 头像 直接复制微信，且昵称不可修改，__建议提前改好微信名 为自己英文名__

2.【修改用户名为自己英文名】个人设置 > 账号设置 > 用户名, 一年只有一次修改机会。

用户名 + 后续的token 会用于拉取仓库代码，用户名 和 昵称 都可用于在仓库中搜到(所以昵称录了微信名问题不大)

3.【开通具体代码仓库权限】找组长 搜索英文名 选择继承账号权限 以开通

### tapd账号开通

1. 找【payne】小姐姐要tapd邀请链接

2. 填表后,小姐姐通过后,飞书邮箱马上会接收邮件，点击 激活并加入

3. [tapd](https://www.tapd.cn/) 首次登录须使用手机验证码

## 插件安装

### 浏览器插件
1. [油猴脚本，注意第三步开启用户脚本](https://bcn0tgplxp2e.feishu.cn/file/HlqhbirWUoF2DaxYVjQcXyt0nQd)
2. [Detailed SEO Extension](https://chromewebstore.google.com/detail/detailed-seo-extension/pfjdepjjfjjahkjfpkcgfmfhmnakjfba)

### cursor插件
0. 先修改插件商店地址，否则某些插件可能搜不到，首选项 > 设置中加一条:
`"extensions.gallery.serviceUrl": "https://marketplace.visualstudio.com/_apis/public/gallery"`

[要下载的插件, 参考 vscode、cursor 扩展插件安装](https://bcn0tgplxp2e.feishu.cn/file/VsPAb5mm1oNWU6xJXAncWMrCnte)

### cursor购买及报销指南
1. 注册个人账号
2. pro版本，选支付宝付款，截图
3. 找【Dorren】小姐姐 拉进 cursor群
4. 填表格，每个月的月末报销

[如果使用信用卡付款的，参考cursor购买指南](https://bcn0tgplxp2e.feishu.cn/file/KIIgbr2qbojxDhxJL6Oct5Y2n0e)

## 安装node
### 安装Homebrew
Homebrew 是 macOS 上非常流行的包管理工具，可以帮助你安装很多软件。

命令行运行 `/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"`

### 设置nvm初始化脚本
也即配置.zshrc, .zshrc 是 MacOS 命令行配置文件, 写入以下内容

```sh
# 设置 PATH
export PATH="/usr/local/bin:$PATH"

# homebrew路径
export PATH="/opt/homebrew/bin:$PATH"

# 设置 NVM 的安装目录
export NVM_DIR="$HOME/.nvm"

# 如果 NVM 的脚本存在且有效，就加载它
[ -s "$(brew --prefix nvm)/nvm.sh" ] && \. "$(brew --prefix nvm)/nvm.sh"

# 设置node内存大小
export NODE_OPTIONS="--max-old-space-size=20480"
```
写入后重新开启命令行或`source ~/.zshrc`应用配置

### 安装nvm
```sh
brew install nvm

nvm --version
```

### 安装node
`nvm install 24`

`nvm use 24`

`corepack enable`

### 安装npm包
`npm i -g @antfu/ni`

`npm i -g tsx`

## 拉取项目代码
### cnb令牌
0.【安装git】

1.【令牌配置】 右上角头 > 个人设置 > 访问令牌 > 创建 > 勾选制品库,其他默认,创建 > 保存好token

2.【复制链接】点击 复制仓库地址按钮 按钮

3.【git clone + 链接】会要求输入 账号(cnb用户名) 密码(令牌token)

如果遇到问题:

【无复制仓库地址按钮】确认油猴插件及脚本正确安装，并开启了允许用户脚本

## 本地运行项目
### 配置.npmrc
修改本地 `~/.npmrc`，内容如下
```sh
registry=https://registry.npmmirror.com
@duiyun:registry=https://npm.cnb.cool/awesomeaicode/npm/duiyun/-/packages/
@coco:registry=https://npm.cnb.cool/awesomeaicode/npm/registry/-/packages/
email=zee@mail.pollo.ai
//npm.cnb.cool/awesomeaicode/npm/registry/-/packages/:_authToken=7Mlg3m7W1c24hBIcBX05IlfkYzH
//npm.cnb.cool/awesomeaicode/npm/duiyun/-/packages/:_authToken=7Mlg3m7W1c24hBIcBX05IlfkYzH
```
email 换成 公司飞书邮箱

_authToken 换成 cnb配置的令牌token

> .npmrc 是 npm / pnpm / yarn 会读的配置文件，用来改安装源、认证、脚本开关等行为。
> 可以放在项目根目录（只影响当前项目）或用户目录 ~/.npmrc（影响全局）。

### 运行
1.`ni` 下载依赖

2.`nr bootstrap` 启动

3.访问地址: http://dev.pollo.ai.localhost:3000/

> 默认打开的localhost:3000会报错

## 熟悉技术栈
熟悉产品功能 模块 流程
nextjs
服务端渲染
tailwind
Trpc
k8s
ts
